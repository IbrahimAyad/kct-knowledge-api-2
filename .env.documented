# ==========================================
# KCT MENSWEAR - ENVIRONMENT VARIABLES
# ==========================================
# 
# ⚠️  CRITICAL SECURITY WARNING
# This file documents the environment variables needed.
# NEVER commit real values to version control!
# Real values should be in .env (which is .gitignored)
# 
# ==========================================

# ==========================================
# SUPABASE CONFIGURATION
# ==========================================
# Location: Supabase Dashboard → Project Settings → API
# Project: gvcswimqaxvylgxbklbz

# Your Supabase project unique identifier
VITE_SUPABASE_PROJECT_ID="gvcswimqaxvylgxbklbz"

# Full URL to your Supabase instance
# Format: https://[project-ref].supabase.co
VITE_SUPABASE_URL="https://gvcswimqaxvylgxbklbz.supabase.co"

# Anonymous (publishable) key - SAFE for client-side use
# This key respects Row Level Security (RLS) policies
# Users can only access data allowed by RLS
VITE_SUPABASE_PUBLISHABLE_KEY="eyJhbGci..."

# ⚠️  NEVER expose these keys on the frontend:
# SUPABASE_SERVICE_KEY - Has admin access, bypasses RLS
# Only use in Edge Functions or backend code!

# ==========================================
# SHOPIFY CONFIGURATION
# ==========================================
# Headless Shopify integration for e-commerce

# STOREFRONT API ACCESS TOKEN
# Location: Shopify Admin → Apps → Create Custom App → Storefront API
# Permissions Required: unauthenticated_read_product_listings
# ⚠️  This is a PUBLISHABLE token - safe for frontend
VITE_SHOPIFY_STOREFRONT_TOKEN="843c94fcee62dbd7a85f8aa95751e998"

# CUSTOMER ACCOUNT API CLIENT ID  
# Location: Shopify Admin → Apps → Customer Account API
# Used for: Checkout, customer login, order history
# Format: shp_[uuid]
VITE_SHOPIFY_CUSTOMER_ACCOUNT_CLIENT_ID="shp_cbc486bd-1f7b-416b-905f-138a27487019"

# SHOPIFY DOMAIN (Backend Secret - in Supabase)
# Format: yourstore.myshopify.com (NO https://)
# Used by: Edge functions for admin API calls
# Set via: Supabase Dashboard → Edge Functions → Manage Secrets
# SHOPIFY_DOMAIN="kctmenswear.myshopify.com"

# SHOPIFY ADMIN ACCESS TOKEN (Backend Secret - in Supabase)
# Location: Shopify Admin → Apps → Create Custom App → Admin API
# Format: shpat_[string]
# Permissions Required: read_products, read_orders, read_customers
# ⚠️  NEVER expose this on frontend - only in Edge Functions!
# Set via: Supabase Dashboard → Edge Functions → Manage Secrets
# SHOPIFY_ADMIN_ACCESS_TOKEN="shpat_xxx..."

# ==========================================
# MARKETING PIXELS & ANALYTICS
# ==========================================
# Add your tracking IDs from respective platforms
# All are OPTIONAL - leave empty if not using

# META (FACEBOOK) PIXEL
# Location: Meta Business Manager → Events Manager → Pixels
# Format: 15-16 digit number
# Used for: Facebook/Instagram ad tracking
VITE_META_PIXEL_ID=""

# TIKTOK PIXEL
# Location: TikTok Ads Manager → Assets → Events
# Format: Character string starting with C
# Used for: TikTok ad tracking
VITE_TIKTOK_PIXEL_ID=""

# GOOGLE ANALYTICS 4
# Location: Google Analytics → Admin → Data Streams → Measurement ID
# Format: G-XXXXXXXXXX
# Used for: Website analytics, user behavior tracking
VITE_GA_MEASUREMENT_ID=""

# GOOGLE ADS CONVERSION ID
# Location: Google Ads → Tools → Conversions → Conversion ID
# Format: AW-XXXXXXXXXX
# Used for: Google Ads conversion tracking
VITE_GOOGLE_ADS_ID=""

# ==========================================
# BACKEND SECRETS (SUPABASE EDGE FUNCTIONS)
# ==========================================
# These are NOT in .env - they're set in Supabase Dashboard
# Location: Supabase Dashboard → Edge Functions → Manage Secrets
# 
# To set a secret:
# npx supabase secrets set KEY_NAME=value
# 
# Or via Dashboard:
# https://supabase.com/dashboard/project/gvcswimqaxvylgxbklbz/settings/functions

# LOVABLE AI API KEY
# Source: Lovable platform (auto-configured when using Lovable AI)
# Used for: AI-powered features (size recommendations, style assistant)
# LOVABLE_API_KEY="xxx..."

# KCT KNOWLEDGE API CONFIGURATION
# External service for analytics and recommendations
# Deployed on: Railway
# Base URL: https://kct-knowledge-api-2-production.up.railway.app
# 
# If authentication is required:
# KCT_API_KEY="xxx..."
# KCT_API_URL="https://kct-knowledge-api-2-production.up.railway.app"

# GOOGLE ANALYTICS 4 (BACKEND)
# For server-side analytics tracking
# GA4_PROPERTY_ID="401822822"  # ⚠️  Use Property ID, NOT Stream ID!
# GA4_SERVICE_ACCOUNT_JSON='{"type":"service_account",...}'  # As JSON string

# REDIS CONFIGURATION (if using caching)
# REDIS_URL="redis://..."  # Railway provides this automatically

# ==========================================
# DEVELOPMENT vs PRODUCTION
# ==========================================

# DEVELOPMENT (.env.local)
# - Use development Shopify store
# - Use test Supabase project
# - Disable marketing pixels

# PRODUCTION (.env)
# - Real Shopify store
# - Production Supabase project  
# - Enable marketing pixels
# - Set via Lovable Dashboard → Project Settings

# ==========================================
# TROUBLESHOOTING
# ==========================================

# Common Issues:

# 1. "Supabase connection failed"
#    → Check VITE_SUPABASE_URL format (must include https://)
#    → Verify project ID matches URL

# 2. "Shopify products not loading"
#    → Verify VITE_SHOPIFY_STOREFRONT_TOKEN has correct permissions
#    → Check token hasn't expired

# 3. "Can't checkout"
#    → Verify VITE_SHOPIFY_CUSTOMER_ACCOUNT_CLIENT_ID is correct
#    → Check Shopify Customer Account API is enabled

# 4. "Edge function failing"
#    → Check Supabase secrets are set (not in .env!)
#    → View logs: Supabase Dashboard → Functions → Logs

# 5. "Marketing pixel not firing"
#    → Check ID format matches platform requirements
#    → Verify pixel is installed in your marketing platform

# ==========================================
# SECURITY CHECKLIST
# ==========================================
# 
# ✅ .env is in .gitignore
# ✅ No SUPABASE_SERVICE_KEY on frontend
# ✅ No SHOPIFY_ADMIN_ACCESS_TOKEN on frontend
# ✅ Only VITE_* variables are used in React code
# ✅ Backend secrets are in Supabase Dashboard, not code
# ✅ No hardcoded API keys in components
# ✅ Sensitive tokens documented but values not committed
# 
# ==========================================

# ==========================================
# USEFUL COMMANDS
# ==========================================
# 
# Check current secrets (Supabase):
# npx supabase secrets list
# 
# Set a secret (Supabase):
# npx supabase secrets set KEY=value
# 
# Remove a secret (Supabase):
# npx supabase secrets unset KEY
# 
# View edge function logs:
# npx supabase functions logs function-name
# 
# ==========================================

# ==========================================
# RELATED DOCUMENTATION
# ==========================================
# 
# - QUICK_REFERENCE.md - Quick commands and debugging
# - docs/api-endpoints.md - API documentation
# - docs/ai-context/architecture.md - System architecture
# - docs/troubleshooting/common-errors.md - Error solutions
# 
# ==========================================

# Last Updated: 2025-01-30
# Version: 1.0
