# KCT Knowledge API\n\nA professional Express.js API for KCT Menswear's fashion knowledge system. This API provides intelligent recommendations, style combinations, color harmonies, and fashion rules for menswear.\n\n## ğŸš€ Features\n\n- **Color Relationships**: Get complementary and conflicting color combinations\n- **Style Combinations**: Retrieve curated outfit combinations for various occasions\n- **Venue Recommendations**: Get appropriate attire suggestions for different venues\n- **Fabric Seasonality**: Access fabric recommendations based on seasons\n- **Style Rules**: Validation rules and guidelines for fashion combinations\n- **Recommendations Engine**: AI-powered outfit recommendations\n- **Trending Analysis**: Current fashion trends and popular combinations\n- **Search Functionality**: Advanced search across the knowledge base\n\n## ğŸ—ï¸ Architecture\n\n```\nsrc/\nâ”œâ”€â”€ config/          # Configuration management\nâ”œâ”€â”€ controllers/     # Business logic handlers\nâ”œâ”€â”€ middleware/      # Auth, validation, error handling\nâ”œâ”€â”€ models/          # Data schemas and validation\nâ”œâ”€â”€ routes/          # API route definitions\nâ”œâ”€â”€ services/        # Data processing and business logic\nâ”œâ”€â”€ types/           # TypeScript type definitions\nâ”œâ”€â”€ utils/           # Helper functions\nâ””â”€â”€ server.ts        # Main server file\n```\n\n## ğŸ› ï¸ Tech Stack\n\n- **Runtime**: Node.js 18+\n- **Framework**: Express.js with TypeScript\n- **Validation**: express-validator\n- **Security**: Helmet, CORS, Rate limiting\n- **Logging**: Winston\n- **Testing**: Jest + Supertest\n- **Code Quality**: ESLint + TypeScript\n\n## ğŸ“¦ Installation\n\n```bash\n# Clone the repository\ngit clone https://github.com/IbrahimAyad/kct-knowledge-api.git\ncd kct-knowledge-api\n\n# Install dependencies\nnpm install\n\n# Copy environment variables\ncp .env.example .env\n\n# Edit environment variables\nnano .env\n```\n\n## ğŸš€ Getting Started\n\n### Development\n\n```bash\n# Start development server with hot reload\nnpm run dev\n\n# The API will be available at http://localhost:3000\n```\n\n### Production\n\n```bash\n# Build the project\nnpm run build\n\n# Start production server\nnpm start\n```\n\n### Testing\n\n```bash\n# Run tests\nnpm test\n\n# Run tests in watch mode\nnpm run test:watch\n\n# Run tests with coverage\nnpm run test -- --coverage\n```\n\n### Code Quality\n\n```bash\n# Lint code\nnpm run lint\n\n# Fix linting issues\nnpm run lint:fix\n```\n\n## ğŸ”§ Configuration\n\n### Environment Variables\n\nRequired environment variables:\n\n- `PORT`: Server port (default: 3000)\n- `NODE_ENV`: Environment (development, production, test)\n- `API_KEY`: Main API key for authentication\n- `ADMIN_API_KEY`: Admin API key for privileged operations\n\nOptional configuration:\n\n- `CORS_ORIGINS`: Comma-separated list of allowed origins\n- `RATE_LIMIT_WINDOW_MS`: Rate limiting window in milliseconds\n- `RATE_LIMIT_MAX_REQUESTS`: Maximum requests per window\n- `JWT_SECRET`: JWT signing secret\n- Database and Redis configuration\n\n## ğŸ“š API Documentation\n\n### Base URL\n\n```\nProduction: https://api.kct-menswear.com\nDevelopment: http://localhost:3000\n```\n\n### Authentication\n\nAll API endpoints require authentication via API key:\n\n```bash\nX-API-Key: your-api-key\n```\n\n### Main Endpoints\n\n#### Health & Status\n- `GET /health` - Health check\n- `GET /status` - Service status\n- `GET /metrics` - System metrics\n\n#### Knowledge Base\n- `GET /api/v1/colors` - Color relationships\n- `GET /api/v1/combinations` - Style combinations\n- `GET /api/v1/venues` - Venue recommendations\n- `GET /api/v1/fabrics` - Fabric seasonality\n- `GET /api/v1/rules` - Style rules\n- `POST /api/v1/validate` - Validate combinations\n\n#### Recommendations\n- `POST /api/v1/recommendations` - Get recommendations\n- `GET /api/v1/trending` - Trending combinations\n- `GET /api/v1/search` - Search knowledge base\n\n### Example Requests\n\n#### Get Color Relationships\n\n```bash\ncurl -X GET 'http://localhost:3000/api/v1/colors?color=navy&season=fall' \\\n  -H 'X-API-Key: your-api-key'\n```\n\n#### Get Recommendations\n\n```bash\ncurl -X POST 'http://localhost:3000/api/v1/recommendations' \\\n  -H 'X-API-Key: your-api-key' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n    \"baseItems\": [\"navy suit\", \"white shirt\"],\n    \"occasion\": \"business\",\n    \"season\": \"fall\"\n  }'\n```\n\n## ğŸ”’ Security Features\n\n- **API Key Authentication**: Secure access control\n- **Rate Limiting**: Prevent abuse with configurable limits\n- **Input Validation**: Comprehensive input sanitization and validation\n- **Security Headers**: Helmet.js for security headers\n- **CORS**: Configurable cross-origin resource sharing\n- **Request Logging**: Comprehensive audit trails\n- **Error Handling**: Secure error responses without information leakage\n\n## ğŸ“ˆ Monitoring & Observability\n\n- **Health Checks**: Built-in health monitoring endpoints\n- **Metrics Collection**: Response times, error rates, request counts\n- **Structured Logging**: Winston-based logging with multiple transports\n- **Error Tracking**: Comprehensive error logging and tracking\n- **Performance Monitoring**: Request timing and system resource usage\n\n## ğŸš¦ Rate Limiting\n\nThe API implements multiple layers of rate limiting:\n\n- **Global**: 100 requests per 15 minutes (configurable)\n- **Endpoint-specific**: Customized limits per endpoint type\n- **Tiered**: Different limits based on API key tier\n- **Burst protection**: Short-term burst limits\n- **Sustained**: Long-term usage limits\n\n## ğŸ§ª Testing\n\nThe API includes comprehensive test coverage:\n\n- **Unit Tests**: Individual component testing\n- **Integration Tests**: API endpoint testing\n- **Performance Tests**: Load and stress testing\n- **Security Tests**: Security vulnerability testing\n\n## ğŸ“ Development Guidelines\n\n### Code Style\n- Use TypeScript for type safety\n- Follow ESLint configuration\n- Write comprehensive tests\n- Document public APIs\n- Use meaningful commit messages\n\n### Contributing\n1. Fork the repository\n2. Create a feature branch\n3. Write tests for new functionality\n4. Ensure all tests pass\n5. Submit a pull request\n\n## ğŸš€ Deployment\n\n### Docker (Recommended)\n\n```dockerfile\n# Dockerfile example\nFROM node:18-alpine\nWORKDIR /app\nCOPY package*.json ./\nRUN npm ci --only=production\nCOPY dist/ ./dist/\nEXPOSE 3000\nCMD [\"npm\", \"start\"]\n```\n\n### Manual Deployment\n\n```bash\n# Build the project\nnpm run build\n\n# Set production environment variables\nexport NODE_ENV=production\nexport PORT=3000\nexport API_KEY=prod-api-key\n\n# Start the server\nnpm start\n```\n\n## ğŸ“ Support\n\n- **Documentation**: [https://api-docs.kct-menswear.com](https://api-docs.kct-menswear.com)\n- **Email**: support@kct-menswear.com\n- **Issues**: [GitHub Issues](https://github.com/IbrahimAyad/kct-knowledge-api/issues)\n\n## ğŸ“„ License\n\nThis project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.\n\n## ğŸ™ Acknowledgments\n\n- Express.js community for the excellent framework\n- TypeScript team for type safety\n- All contributors and maintainers\n\n---\n\n**Made with â¤ï¸ by the KCT Team**"