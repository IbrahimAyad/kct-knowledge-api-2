# KCT Menswear â€” Knowledge Base Data Manifest
> **Purpose**: This document gives the KB API everything it needs to make recommendations, validate outfits, and power upsells using *real KCT data* â€” not generic menswear guesses.
>
> **Last Updated**: 2026-02-16
> **Data Source**: Supabase production database (`gvcswimqaxvylgxbklbz`)
> **Generated by**: Lovable (frontend) + Cowork (Part 6)

---

## Part 1: High-Impact Custom Data We Already Have

### 1.1 Bundle Purchase History
**Table**: `bundle_orders`
**What it powers**: "Customers who bought this suit most often paired it with X shirt/tie" â€” real pairing data, not guesses.

| Field | Use |
|-------|-----|
| `suit_name` + `shirt_name` + `tie_name` | Actual purchased combinations |
| `bundle_type` | Prom vs Wedding vs Casual context |
| `total_cents` | Price tier validation |
| `order_status` | Filter to completed orders only |

**Current state**: Limited bundle order data (early stage). As volume grows, this becomes the #1 signal for pairing recommendations.

---

### 1.2 Cart Abandonment Patterns
**Table**: `abandoned_carts`
**What it powers**: Which bundles/combos get abandoned â†’ signals bad pairings or price mismatches.

| Field | Use |
|-------|-----|
| `cart_data` (JSON) | What items were in the cart |
| `total_amount` | Price point where customers bail |
| `is_recovered` | Whether they came back |
| `session_id` | Link to browsing behavior |

**Insight**: If a specific suit+tie combo is abandoned 80% of the time, the KB should stop recommending that pairing.

---

### 1.3 AI Outfit Combination Feedback
**Table**: `ai_outfit_combinations`
**What it powers**: Users who liked/disliked/purchased AI suggestions â†’ trains better recs.

| Field | Use |
|-------|-----|
| `was_liked` | Direct preference signal |
| `was_purchased` | Conversion signal (strongest) |
| `style_score` | Algorithm confidence |
| `occasion_tags` | Context for when the outfit works |
| `products` (JSON) | Exact product IDs in the combo |

**Current state**: Table exists but no data yet. Once populated, this is the feedback loop that makes the KB smarter over time.

---

### 1.4 Product Performance by Season
**Table**: `analytics_product_performance`
**What it powers**: Which products sell when â†’ validates seasonal micro-patterns with YOUR data.

| Field | Use |
|-------|-----|
| `product_id` + `date` | Time-series product demand |
| `views` â†’ `add_to_cart` â†’ `purchases` | Full funnel per product |
| `conversion_rate` | Which products close |
| `revenue` | Revenue-weighted recommendations |

---

### 1.5 Wedding Event Data
**Tables**: `weddings` + `ai_outfit_recommendations`
**What it powers**: Real wedding types/months/seasons your customers choose â†’ better occasion recs.

**Current Wedding Data**:

| Month | Count |
|-------|-------|
| May 2026 | 4 |
| March 2026 | 2 |
| August 2026 | 1 |
| June 2026 | 1 |

**Insight**: May is peak wedding month for KCT customers. The KB should weight wedding recommendations heavier in March-April (lead time for May weddings).

---

## Part 2: Data We Should Start Collecting

### 2.1 Bundle Swap Rates
When a customer changes the suggested shirt/tie in a bundle, **what do they swap TO?** That's gold for pairing logic.

### 2.2 Return Reasons by Category
- "Color didn't match in person" â†’ validates color science
- "Didn't fit the occasion" â†’ validates venue/event logic
- "Quality not as expected" â†’ validates price tier pairing

### 2.3 Repeat Buyer Patterns
What does a customer buy NEXT after their first suit? Powers "career progression" recommendations.

---

## Part 3: KCT Product Catalog

### 3.1 Catalog Overview

| Metric | Value |
|--------|-------|
| **Total Products** | 1,361 |
| **Unique Product Names** | 1,355 |
| **Product Categories** | 46 |

---

### 3.2 Suit/Blazer/Tuxedo Color Inventory
The KB must ONLY recommend colors from this list. Never suggest a color we don't carry.

| Color | Products Tagged | Tier |
|-------|----------------|------|
| **Black** | 190 | Core |
| **Blue** | 116 | Core |
| **Red** | 70 | Core |
| **White** | 69 | Core |
| **Gold** | 66 | Core |
| **Green** | 62 | Core |
| **Navy** | 51 | Strong |
| **Royal Blue** | 38 | Strong |
| **Burgundy** | 34 | Strong |
| **Silver** | 34 | Strong |
| **Pink** | 34 | Strong |
| **Purple** | 30 | Strong |
| **Tan** | 20 | Available |
| **Ivory** | 16 | Available |
| **Orange** | 16 | Available |
| **Charcoal** | 12 | Available |
| **Teal** | 10 | Available |
| **Emerald** | 9 | Limited |
| **Champagne** | 9 | Limited |
| **Gray** | 7 | Limited |
| **Wine** | 4 | Limited |
| **Blush** | 2 | Rare |
| **Cream** | 2 | Rare |
| **Rust** | 1 | Rare |
| **Sage** | 1 | Rare |
| **Slate** | 1 | Rare |
| **Brown** | 1 | Rare |

**Rule**: Core/Strong colors should be default recommendations. Limited/Rare colors only when specifically requested or context-matched (e.g., Sage for garden wedding).

---

### 3.3 Tie & Bowtie Color Palette (69 Colors)
**KCT's competitive advantage.** We stock 69 tie/bowtie colors â€” far more than most competitors. The KB should leverage this to always find a perfect color match.

Colors with matching suspender+bowtie sets marked âœ…:

Apple Red, Aqua, Baby Blue, Banana Yellow, Beige, **Black âœ…**, Blush, Burgundy, Burnt Orange, Canary, Carolina Blue, Champagne, Charcoal, Chianti, Chocolate Brown, Cinnamon, Cobalt, Coral, **Dark Grey âœ…**, Dark Navy, Dark Olive, Dark Red, Dark Silver, Deep Purple, Denim Blue, Dusty Pink, Dusty Rose, Dusty Sage, Emerald Green, Forest Green, French Blue, French Rose, Fuchsia, **Gold âœ…**, Ivory, Lavender, Lettuce Green, **Light Blue âœ…**, Light Blush, Light Lilac, Light Pink, Lilac, Lime, Magenta, Mauve, Medium Brown, Medium Orange, Medium Purple, Mermaid Green, Mint Green, Navy Blue, Nutmeg, Olive Green, Orange, Pastel Green, Pastel Purple, Peach, **Pink âœ…**, Plum, Powder Blue, **Purple âœ…**, Rose Gold, **Royal Blue âœ…**, Rust, Salmon, Sapphire Blue, **Silver âœ…**, Taupe, Teal, Tiffany Blue, **True Red âœ…**, Turquoise, **White âœ…**, **Wine âœ…**

**KB Rules for Tie Matching**:
1. Always match to a tie color we carry â€” with 69 colors, there's almost always a match
2. Upsell suspender sets when available (11 colors have matching suspender+bowtie sets)
3. Wedding parties: highlight that we can match nearly any bridesmaid dress color
4. Prom dates: same logic â€” match to their date's dress color

---

### 3.4 Product Categories & Price Ranges

| Category | Products | Min Price | Max Price | Avg Price |
|----------|----------|-----------|-----------|-----------|
| Blazer | 138 | $149.99 | $289.99 | $223.50 |
| Suit | 119 | $119.99 | $299.00 | $230.64 |
| Tuxedo | 100 | $159.99 | $329.00 | $251.42 |
| Blazers | 70 | $199.00 | $248.00 | $222.91 |
| Tie & Bowtie Collection | 69 | $24.99 | $24.99 | $24.99 |
| Bundle | 63 | $229.99 | $279.99 | $247.61 |
| Dress Shirt | 62 | $19.99 | $69.99 | $43.62 |
| Dress Shoes | 53 | $9.99 | $129.99 | $97.82 |
| Three-Piece Tuxedo | 42 | $199.99 | $229.99 | $202.13 |
| Suit Bundle | 39 | $249.99 | $249.99 | $249.99 |
| Accessories | 37 | $50.00 | $50.00 | $50.00 |
| Suspenders | 28 | $28.00 | $44.99 | $32.06 |
| Double-Breasted Suit | 19 | $199.99 | $279.99 | $217.88 |
| Tuxedos (Premium) | 18 | $256.00 | $500.00 | $335.17 |
| Vest Set | 18 | $44.99 | $229.99 | $144.71 |
| Casual Suit Bundle | 16 | $229.99 | $229.99 | $229.99 |
| Turtleneck | 14 | $49.99 | $49.99 | $49.99 |
| Cummerbund | 14 | $49.99 | $49.99 | $49.99 |
| Bow Tie | 13 | $39.99 | $44.99 | $41.92 |
| Stretch Suits | 10 | $242.00 | $400.00 | $314.30 |
| Sweater | 10 | $149.99 | $149.99 | $149.99 |
| Boys Suits | 8 | $129.99 | $139.99 | $131.24 |
| Wedding Package | 6 | $179.99 | $329.99 | $239.99 |
| Peacoat | 5 | $249.99 | $249.99 | $249.99 |
| Kids Tuxedo | 5 | $129.99 | $129.99 | $129.99 |

---

### 3.5 Price Tier Pairing Rules
The KB should pair items within compatible price tiers:

| Tier | Suit/Tux Range | Shirt Match | Tie/Bow Match | Shoes Match |
|------|---------------|-------------|---------------|-------------|
| **Entry** | $119â€“$179 | $19â€“$34 | $24.99 | $49â€“$79 |
| **Mid** | $179â€“$259 | $34â€“$49 | $24.99â€“$44.99 | $79â€“$109 |
| **Premium** | $259â€“$400 | $49â€“$69 | $39.99â€“$49.99 | $109â€“$129 |
| **Luxury** | $400+ | $69+ | $44.99+ | $129+ |

**Rule**: Never recommend a $129 shoe with a $119 suit. Keep accessory cost < 25% of suit cost.

---

### 3.6 Top Product Tags (Style/Occasion Signals)

| Tag | Count | Signal Type |
|-----|-------|-------------|
| prom | 496 | Occasion |
| formal | 407 | Occasion |
| shiny | 362 | Style |
| patterned | 341 | Style |
| groomsmen | 331 | Occasion |
| slim-fit | 330 | Fit |
| wedding | 288 | Occasion |
| groom | 252 | Occasion |
| quinceanera | 244 | Occasion |
| summer-wedding | 236 | Season+Occasion |
| satin | 220 | Fabric |
| solid | 220 | Pattern |
| spring-wedding | 207 | Season+Occasion |
| outdoor-wedding | 196 | Venue+Occasion |
| winter-wedding | 187 | Season+Occasion |
| rustic-wedding | 181 | Venue+Occasion |
| fall-wedding | 164 | Season+Occasion |
| homecoming | 151 | Occasion |
| beach-wedding | 143 | Venue+Occasion |
| floral | 107 | Pattern |
| garden-wedding | 77 | Venue+Occasion |
| sequin | 68 | Style |
| velvet | 59 | Fabric |
| business-casual | 59 | Occasion |
| classic-wedding | 58 | Venue+Occasion |

---

### 3.7 KCT Event Calendar Context

| Period | Primary Event | Secondary Events | KB Focus |
|--------|--------------|-------------------|----------|
| Janâ€“Feb | Prom prep begins | Valentine's | Early bird bundles, prom previews |
| Marâ€“Apr | **Peak Prom** | Spring weddings | Prom bundles, bold colors, accessories |
| Mayâ€“Jun | **Peak Wedding** | Graduation, galas | Wedding packages, groomsmen deals |
| Julâ€“Aug | Summer events | Beach weddings | Lightweight fabrics, lighter colors |
| Sepâ€“Oct | Fall weddings | Homecoming, galas | Rich tones (burgundy, forest green) |
| Novâ€“Dec | Holiday events | Winter weddings | Velvet, darker tones, gift bundles |

---

## Part 4: Integration Instructions for KB API

### 4.1 Data Ingestion Priority
1. **Color Inventory** (Part 3.2) â€” Load immediately. Stop recommending colors we don't carry.
2. **Price Tier Rules** (Part 3.5) â€” Load immediately. Stop mismatched price recommendations.
3. **Product Tags** (Part 3.6) â€” Use for occasion/venue matching logic.
4. **Tie Color Palette** (Part 3.3) â€” Enable bridesmaid/prom dress color matching.
5. **Category Catalog** (Part 3.4) â€” Reference for what product types exist.
6. **Bundle History** (Part 1.1) â€” Ingest as orders grow. Replace algorithmic pairing with real data.
7. **Seasonal Calendar** (Part 3.7) â€” Time-weight recommendations.

### 4.2 API Endpoints That Should Use This Data

| Endpoint | Data Sources |
|----------|-------------|
| `/api/recommendations/complete-look` | Color inventory, price tiers, bundle history, product tags |
| `/api/style/validate-outfit` | Color inventory, price tiers, occasion tags |
| `/api/trends/current` | Seasonal calendar, product performance |
| `/api/bundles/generate` | All of the above |

### 4.3 Critical Rules
1. **Never recommend a color we don't stock** â€” check against Part 3.2
2. **Never pair across 2+ price tiers** â€” check against Part 3.5
3. **Weight occasion tags** â€” a "prom" query should surface prom-tagged products first
4. **Respect inventory tiers** â€” push Core/Strong colors, use Limited/Rare only when context-matched
5. **Use real purchase data over algorithmic guesses** â€” when `bundle_orders` has data for a combo, prefer it

### 4.4 Data Refresh Schedule

| Data | Refresh Frequency | Method |
|------|-------------------|--------|
| Product catalog | Daily | Supabase â†’ KB sync |
| Color inventory | Daily | Tag aggregation query |
| Bundle history | Real-time | Webhook on `bundle_orders` insert |
| Cart abandonment | Daily batch | Supabase â†’ KB analytics |
| Seasonal calendar | Monthly | Manual review |

---

## Part 5: The Big Win

**Your `bundle_orders` table alone could replace most of the KB's guessing.** Real purchase pairings (suit X + shirt Y + tie Z) are more valuable than any AI model predicting what *should* go together.

As order volume grows:
- Top 10 pairings become "Staff Picks" / "Most Popular Combos"
- Abandoned pairings get demoted in recommendation rankings
- Liked-but-not-purchased combos signal price sensitivity
- Seasonal patterns emerge from real Detroit-market demand

---

## Part 6: Domain Knowledge Library

> **Added by**: Cowork (Sprint 1 review)
> **Source**: KCT content repos (blog calendars, trend research, style guides, local SEO)

These content files contain domain expertise that the KB should eventually ingest. They're NOT in this repo â€” they're in KCT's content/marketing repos.

### 6.1 Content Inventory

| Category | Files | What the KB learns |
|----------|-------|--------------------|
| **Seasonal Intelligence** | 12 monthly calendars (`blog-calendar/2026/`) | What to recommend WHEN â€” month-by-month content themes, product pushes, promotional hooks |
| **Wedding Expertise** | `wedding-2024-2025-trends.md`, `wedding-2026-forecast.md` | Color combos by wedding style, venue-specific advice, groomsmen package logic |
| **Prom Expertise** | `prom-2026-trends.md`, `prom-aura-product-tagging.md` | Aura aesthetics, trending prom colors, school district timelines |
| **Style Fundamentals** | `Style-Guides2024-2025.md`, `menswear-formalwear-how-to-guides-2024-2025.md` | Fabric rules, fit guides, occasion pairing dos/don'ts |
| **Local Context** | `kct-local-seo-wedding.md`, `kct-local-seo-prom-season.md` | Michigan venue names, school districts, local seasonal demand patterns |
| **Product Links** | `KCT-SITE-LINKS-REFERENCE.md` | 70+ internal product/category URLs so the KB can link to real pages |

### 6.2 Ingestion Strategy

**Phase 1: One-time curated extract (Sprint 2)**
Pull the key structured facts from these docs into JSON files the KB can load:
- Wedding color combos by venue type â†’ extends `color-relationships.json`
- Prom aura-to-color mappings â†’ new `prom-aura-colors.json`
- Monthly product push priorities â†’ extends seasonal rules engine
- Michigan venue/school lists â†’ extends venue intelligence with local data

**Phase 2: Live content sync (Sprint 3+)**
- Published blog posts feed the KB automatically (RSS or webhook)
- Monthly calendar sync so the KB knows "it's February, push prom prep"
- Trend doc updates propagate to recommendation weights

**Phase 3: Product link integration (Sprint 2)**
- Load `KCT-SITE-LINKS-REFERENCE.md` so every recommendation includes a real product page URL
- Map category names to Shopify collection URLs
- Enable "shop this look" links in API responses

### 6.3 What's Already In This Repo

The `KCT Knowledge API Enhancement -Update-Info/` directory contains 20 research documents with structured CSV data that the enhanced-data-loader already ingests:

| Research Area | Status |
|---------------|--------|
| Body Language & Fit Preferences | âœ… Loaded (JSON + CSV) |
| Cultural & Regional Nuances | âœ… Loaded (JSON) |
| Venue Microdata & Lighting | âœ… Loaded (JSON) |
| Career Trajectory Patterns | âœ… Loading (Section 1.4 in progress) |
| Customer Psychology & Behavior | âœ… Loaded (CSV) |
| Color Science Gaps | âœ… Loaded (CSV) |
| Fabric Performance | ðŸŽ¯ Next (Section 1.3) |
| Competitor Blind Spots | âœ… Loaded (CSV) |
| Seasonal Micro-Patterns | âœ… Loaded (CSV) |
| AI Training Gaps | âœ… Loaded (CSV) |
| Price Sensitivity Mapping | ðŸ“‹ Available, not wired |
| Emotional Triggers | ðŸ“‹ Available, not wired |
| Loyalty Triggers | ðŸ“‹ Available, not wired |
| Return Psychology | ðŸ“‹ Available, not wired |
| Social Proof Dynamics | ðŸ“‹ Available, not wired |

### 6.4 Gap: Content NOT in This Repo

These files are referenced by the Lovable dev but need to be located and added:

- [ ] 12 monthly blog calendars (`blog-calendar/2026/jan.md` through `dec.md`)
- [ ] `wedding-2024-2025-trends.md`
- [ ] `wedding-2026-forecast.md`
- [ ] `prom-2026-trends.md`
- [ ] `prom-aura-product-tagging.md`
- [ ] `Style-Guides2024-2025.md`
- [ ] `menswear-formalwear-how-to-guides-2024-2025.md`
- [ ] `kct-local-seo-wedding.md`
- [ ] `kct-local-seo-prom-season.md`
- [ ] `KCT-SITE-LINKS-REFERENCE.md`

**Action**: Abe to locate these files and add to repo under `docs/content-library/` or provide file paths so they can be ingested.
